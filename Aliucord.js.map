{"version":3,"file":"Aliucord.js.map","sources":["src/AliucordNative.ts","src/utils/Logger.ts","src/metro/index.ts","src/api/Commands.ts","src/api/SettingsAPI.ts","src/utils/Patcher.ts","src/api/PatcherApi.ts","src/entities/Plugin.ts","src/core-plugins/CommandHandler.ts","aliucord-version","src/utils/debug/DebugInfo.ts","src/utils/misc.ts","src/core-plugins/CoreCommands.ts","src/core-plugins/NoTrack.ts","src/core-plugins/index.ts","src/utils/constants.ts","src/utils/getAssetId.ts","src/ui/AliucordPage.tsx","src/PluginManager.ts","src/ui/PluginsPage.tsx","src/ui/UpdaterPage.tsx","src/ui/patchSettings.tsx","src/utils/debug/DebugWS.ts","src/Aliucord.tsx","src/index.ts"],"sourcesContent":["import { PluginManifest } from \"./entities/types\";\n// import { Logger } from \"./utils/Logger\";\n\n/**\n * FilePath. Must be absolute\n */\nexport type Path = string;\n\nconst AliucordNative = window.nativeModuleProxy.AliucordNative;\n\n// creating logger here makes Aliucord not load??\n// const logger = new Logger(\"AliucordNative\");\n\n/**\n * Create a directory\n * @param path Path to directory\n * @param recursive Whether to recursively create parent directories if they do not exist\n * @returns true if mkdir succeeded or file exists. false otherwise\n */\nexport async function mkdir(path: Path, recursive = false): Promise<boolean> {\n    try {\n        return AliucordNative.mkdir(path, recursive);\n    } catch (err) {\n        // logger.error(`mkdir failed.\\npath: ${path}, recursive: ${recursive}`, err);\n        return false;\n    }\n}\n\n/**\n * Check whether a file exists\n * @param path File path \n * @returns boolean\n */\nexport const existsFile: (path: Path) => Promise<boolean> = AliucordNative.existsFile;\n\n/**\n * Delete a file\n * @param path File path \n * @returns Whether the file was successfully deleted\n */\nexport const deleteFile: (path: Path) => Promise<boolean> = AliucordNative.deleteFile;\n\n/**\n * Read a file\n * @param path Path to file\n * @param encoding Encoding. Must be one of utf-8 or base64\n * @returns content in the specified encoding\n */\nexport async function readFile(path: Path, encoding: \"base64\" | \"utf-8\" = \"utf-8\"): Promise<string> {\n    return AliucordNative.readFile(path, encoding);\n}\n\n/**\n * Write a file\n * @param path Path to file\n * @param content Content. Must be a string, pass base64 to write binary\n * @param encoding Encoding of content. Must be one of utf-8 or base64\n */\nexport async function writeFile(path: Path, content: string, encoding: \"base64\" | \"utf-8\" = \"utf-8\"): Promise<boolean> {\n    return AliucordNative.writeFile(path, content, encoding);\n}\n\n/**\n * Retrieve a plugin's manifest\n * @param plugin Plugin name\n * @returns PluginManifest or null if no manifest found\n */\nexport async function getManifest(plugin: string): Promise<PluginManifest | null> {\n    try {\n        const data = await AliucordNative.getManifest(plugin);\n        return JSON.parse(data);\n    } catch (err) {\n        // logger.error(\"Error while obtaining manifest of \" + plugin, err);\n        return null;\n    }\n}\n\n/**\n * Get a list of all native modules\n * @returns Map<ModuleName, MethodList>\n */\nexport const listNativeModules: () => Promise<Record<string, string[]>> = AliucordNative.listNativeModules;\n\n/**\n * Used to check if Aliucord has storage permissions\n */\nexport const checkPermissions: () => Promise<boolean> = AliucordNative.checkPermissions;\n\n/**\n * Used to request storage permissions\n */\nexport const requestPermissions: () => Promise<boolean> = AliucordNative.requestPermissions;\n","import { getByProps } from \"../metro\";\n\nconst DiscordLogger = getByProps(\"setLogFn\").default;\n\nexport class Logger extends DiscordLogger {\n    log: (...messages: any[]) => void;\n    info: (...messages: any[]) => void;\n    warn: (...messages: any[]) => void;\n    error: (...messages: any[]) => void;\n    trace: (...messages: any[]) => void;\n    verbose: (...messages: any[]) => void;\n\n    public constructor(public tag: string) {\n        super(`Aliucord:${tag}`);\n\n        const { log, info, warn, error, trace, verbose } = this;\n\n        this.log = (...messages: any[]) => {\n            log(...messages);\n            this._log(console.log, messages);\n        };\n\n        this.info = (...messages: any[]) => {\n            info(...messages);\n            this._log(console.info, messages);\n        };\n\n        this.warn = (...messages: any[]) => {\n            warn(...messages);\n            this._log(console.warn, messages);\n        };\n\n        this.error = (...messages: any[]) => {\n            error(...messages);\n            this._log(console.error, messages);\n        };\n\n        this.trace = (...messages: any[]) => {\n            trace(...messages);\n            this._log(console.trace, messages);\n        };\n\n        this.verbose = (...messages: any[]) => {\n            verbose(...messages);\n            this._log(console.debug, messages);\n        };\n    }\n\n    private _log(log: (m: any) => void, messages: any[]) {\n        log(`[${this.tag}]`);\n        for (const msg of messages) {\n            if (msg instanceof Error) log(msg.stack ?? msg.message);\n            else log(msg);\n        }\n    }\n}\n","import type { ImageStyle, TextStyle, ViewStyle } from \"react-native\";\nimport { Logger } from \"../utils/Logger\";\n\ndeclare const __r: (moduleId: number) => any;\ndeclare const modules: { [id: number]: any; };\n\nconst logger = new Logger(\"Metro\");\n\n/**\n * Module filter options\n */\ntype FilterOptions = {\n    exports?: boolean;\n    default?: false;\n} | {\n    exports?: true;\n    default?: true;\n};\n\n// If you are curious why this exists, run\n// __r(994) and enjoy your Hindi timestamps\nfunction isModuleBlacklisted(id: number) {\n    if (id === 54 || id >= 966 && id <= 994) return true;\n    return false;\n}\n\n/**\n * Find a Discord Module\n * @param filter Module filter\n * @param options Options.\n * @returns Module if found, else null\n */\nexport function getModule(filter: (module: any) => boolean, options?: FilterOptions) {\n    const { exports = true, default: defaultExport = true } = options ?? {};\n\n    for (const key in modules) {\n        const id = Number(key);\n\n        if (isModuleBlacklisted(id)) continue;\n\n\n        let mod;\n        try {\n            mod = __r(id);\n        } catch {\n            // Some modules throw error, ignore\n        }\n        if (!mod) continue;\n\n        try {\n            if (filter(mod)) {\n                const module = modules[id].publicModule;\n                return exports ? module.exports : module;\n            }\n\n            if (mod.default && filter(mod.default)) {\n                const module = modules[id].publicModule;\n                return defaultExport ? module.exports.default :\n                    exports ? module.exports : module;\n            }\n        } catch (e) {\n            logger.error(\"Error during getModule\", e);\n        }\n    }\n\n    return null;\n}\n\ntype PropIntellisense<P extends string> = Record<P, any> & Record<PropertyKey, any>;\n\n/**\n * Find a module by props\n * @param props One or more props\n */\nexport function getByProps<T extends string>(...props: T[]): PropIntellisense<T>;\nexport function getByProps<T extends string>(...options: [...props: T[], options: FilterOptions]): PropIntellisense<T>;\nexport function getByProps<T extends string>(...options: [...props: T[], defaultExport: boolean]): PropIntellisense<T>;\nexport function getByProps(...props: any[]) {\n    if (!props.length) return null;\n\n    const options = typeof props[props.length - 1] === \"object\" ? props.pop() : {};\n    const filter = (module: any) => {\n        for (let i = 0, len = props.length; i < len; i++)\n            if (module[props[i]] === undefined) return false;\n        return true;\n    };\n\n    return getModule(filter, typeof options === \"boolean\" ? { default: options } : options);\n}\n\n/**\n * Find a module by its displayName property. Usually useful for finding React Components\n * @returns Module if found, else null\n */\nexport function getByDisplayName(displayName: string, options?: FilterOptions) {\n    return getModule(m => m.displayName === displayName, options);\n}\n\n/**\n * Find a Store by its name. \n * @returns Module if found, else null\n */\nexport function getByStoreName(storeName: string, options?: FilterOptions) {\n    return getModule(m => m.getName?.() === storeName, options);\n}\n\n/**\n * Get a module by its numeric id. Unless you know what you're doing, you\n * should not use this.\n */\nexport const getById = __r;\n\n/**\n * Same as getModule, but retrieves all matches instead of the first\n * @returns Array of modules\n */\nexport function getAll(filter: (module: any) => boolean, options?: FilterOptions): any[] {\n    const { exports = true, default: defaultExport = true } = options ?? {};\n\n    const ret = [] as any[];\n    for (const key in modules) {\n        const id = Number(key);\n\n        if (isModuleBlacklisted(id)) continue;\n\n        let mod;\n        try {\n            mod = __r(id);\n        } catch {\n            // Some modules throw error, ignore\n        }\n\n        if (!mod) continue;\n\n        try {\n            if (filter(mod)) {\n                const module = modules[Number(id)].publicModule;\n                ret.push(exports ? module.exports : module);\n            }\n\n            if (mod.default && filter(mod.default)) {\n                const module = modules[Number(id)].publicModule;\n                return defaultExport ? module.exports.default :\n                    exports ? module.exports : module;\n            }\n        } catch (e) {\n            logger.error(\"Error during getAll\", e);\n        }\n    }\n\n    return ret;\n}\n\n/**\n * Same as getByProps, but retrieves all matches instead of the first\n * @returns Array of modules\n */\nexport function getAllByProps<T extends string>(...props: T[]): PropIntellisense<T>[];\nexport function getAllByProps<T extends string>(...options: [...props: T[], options: FilterOptions]): PropIntellisense<T>[];\nexport function getAllByProps<T extends string>(...options: [...props: T[], defaultExport: boolean]): PropIntellisense<T>[];\nexport function getAllByProps(...props: any[]) {\n    if (!props.length) return [];\n\n    const options = typeof props[props.length - 1] === \"object\" ? props.pop() : {};\n    const filter = (module: any) => {\n        for (let i = 0, len = props.length; i < len; i++)\n            if (module[props[i]] === undefined) return false;\n        return true;\n    };\n\n    return getAll(filter, typeof options === \"boolean\" ? { default: options } : options);\n}\n\n/**\n * Find all modules with properties containing the specified keyword \n * @param keyword They keyword\n * @param skipConstants Whether constants (names that are FULL_CAPS) should be skipped. Defaults to true\n * @returns Array of names that match. You can then access moduleSearchResults.SomeName to view the\n *          corresponding module \n */\nexport function searchByKeyword(keyword: string, skipConstants = true) {\n    keyword = keyword.toLowerCase();\n    const matches = [] as string[];\n    window.moduleSearchResults = {};\n\n    function check(obj: any) {\n        if (!obj) return;\n        for (const name of Object.getOwnPropertyNames(obj)) {\n            if (name.toLowerCase().includes(keyword) && (!skipConstants || name.toUpperCase() !== name)) {\n                matches.push(name);\n                window.moduleSearchResults[name] = obj;\n            }\n        }\n    }\n\n    for (const id in modules) if (!isModuleBlacklisted(Number(id))) {\n        try {\n            __r(Number(id));\n            const mod = modules[id]?.publicModule;\n            if (mod) {\n                check(mod);\n                check(mod.exports);\n                check(mod.exports?.default);\n            }\n        } catch {\n            //\n        }\n    }\n\n    return matches;\n}\n\nexport const UserStore = getByStoreName(\"UserStore\");\nexport const GuildStore = getByStoreName(\"GuildStore\");\nexport const ChannelStore = getByStoreName(\"ChannelStore\");\nexport const MessageStore = getByStoreName(\"MessageStore\");\nexport const GuildMemberStore = getByStoreName(\"GuildMemberStore\");\nexport const SelectedChannelStore = getByStoreName(\"SelectedChannelStore\");\n\nexport const ModalActions = getByProps(\"closeModal\");\nexport const MessageActions = getByProps(\"sendMessage\", \"receiveMessage\");\nexport const FluxDispatcher = getByProps(\"dirtyDispatch\");\nexport const FetchUserActions = getByProps(\"fetchProfile\");\nexport const ContextMenuActions = getByProps(\"openContextMenu\");\n\nexport const Clipboard = getByProps(\"getString\", \"setString\") as {\n    getString(): Promise<string>,\n    setString(str: string): Promise<void>;\n};\n\nexport const RestAPI = getByProps(\"getAPIBaseURL\", \"get\");\nexport const i18n = getByProps(\"Messages\");\nexport const Flux = getByProps(\"connectStores\");\nexport const React = getByProps(\"createElement\") as typeof import(\"react\");\nexport const ReactNative = getByProps(\"Text\", \"Image\") as typeof import(\"react-native\");\nexport const Constants = getByProps(\"ActionTypes\") as import(\"./constants\").default;\nexport const URLOpener = getByProps(\"openURL\", \"handleSupportedURL\");\nexport const Forms = getByProps(\"FormSection\");\n\n// Abandon all hope, ye who enter here\ntype Style = ViewStyle & ImageStyle & TextStyle;\ntype Styles = Partial<{ [key in keyof Style]: readonly [Style[key], Style[key]] | Style[key] }>;\ntype FlattenValue<T> = { [key in keyof T]: T[key] extends ReadonlyArray<infer E> ? E : T[key] };\n\nexport const Styles = getByProps(\"createThemedStyleSheet\") as {\n    ThemeColorMap: Record<string, [string, string]>;\n    createThemedStyleSheet: <T extends { [key: string]: Styles; }>(styles: T)\n        => { [key in keyof T]: FlattenValue<T[key]>; };\n    getThemedStylesheet: <T extends { [key: string]: Styles; }>(styles: T)\n        => Record<\"mergedDarkStyles\" | \"mergedLightStyles\", { [key in keyof T]: FlattenValue<T[key]>; }>;\n};\n","import { getByProps } from \"../metro\";\n\nexport interface CommandSection {\n    id: string;\n    name: string;\n    icon?: string;\n}\n\nexport interface ApplicationCommand {\n    description: string;\n    name: string;\n    options: ApplicationCommandOption[];\n    execute: (args: any[], ctx: CommandContext) => CommandResult | void | Promise<CommandResult> | Promise<void>;\n\n    // added automatically in register\n    id?: string;\n    applicationId?: string;\n    displayName?: string;\n    displayDescription?: string;\n    inputType?: ApplicationCommandInputType;\n    type?: ApplicationCommandType;\n}\n\nexport interface AliucordCommand extends ApplicationCommand {\n    __plugin?: string;\n}\n\nexport enum ApplicationCommandInputType {\n    BUILT_IN,\n    BUILT_IN_TEXT,\n    BUILT_IN_INTEGRATION,\n    BOT,\n    PLACEHOLDER\n}\n\nexport interface ApplicationCommandOption {\n    name: string;\n    description: string;\n    required?: boolean;\n    type: ApplicationCommandOptionType;\n\n    // added automatically in register\n    displayName?: string;\n    displayDescription?: string;\n}\n\nexport enum ApplicationCommandOptionType {\n    SUB_COMMAND = 1,\n    SUB_COMMAND_GROUP,\n    STRING,\n    INTEGER,\n    BOOLEAN,\n    USER6,\n    CHANNEL,\n    ROLE,\n    MENTIONABLE,\n    NUMBER,\n    ATTACHMENT\n}\n\nexport enum ApplicationCommandType {\n    CHAT = 1,\n    USER,\n    MESSAGE\n}\n\nexport interface CommandContext {\n    channel: any;\n    guild: any;\n}\n\nexport interface CommandResult {\n    content: string;\n    tts?: boolean;\n}\n\nconst SnowflakeUtils = getByProps(\"fromTimestamp\");\n\nexport class Commands {\n    private static _idIncrementNum = Date.now();\n\n    static generateId = () => `-${SnowflakeUtils.fromTimestamp(Commands._idIncrementNum++)}`;\n\n    public static _aliucordSection: CommandSection = {\n        id: Commands.generateId(),\n        name: \"Aliucord\"\n    };\n\n    public static _commands: AliucordCommand[] = [];\n\n    public constructor(private plugin: string) { }\n\n    registerCommand(command: AliucordCommand) {\n        command.id = Commands.generateId();\n        command.applicationId = Commands._aliucordSection.id;\n        command.displayName = command.name;\n        command.displayDescription = command.description;\n        command.inputType = ApplicationCommandInputType.BUILT_IN;\n        command.type = ApplicationCommandType.CHAT;\n        command.__plugin = this.plugin;\n\n        for (const option of command.options) {\n            option.displayName = option.name;\n            option.displayDescription = option.description;\n        }\n\n        Commands._commands.push(command);\n    }\n\n    unregisterAll() {\n        Commands._commands = Commands._commands.filter(c => c.__plugin !== this.plugin);\n    }\n}\n","import { React } from \"../metro\";\n\n/**\n * Casts types down to be less specific and also allow missing keys in Objects\n * CastDown<12> -> number\n */\ntype CastDown<T> =\n    T extends number ? number :\n    T extends string ? string :\n    T extends boolean ? boolean :\n    T extends Record<any, any> ? T & Record<string, any> :\n    T;\n\n/** \n * Settings React Hook. Will automatically rerender your component and\n * save to settings on set()\n */\nexport function useSettings<T>(settings: Settings<T>) {\n    const [, update] = React.useState(0);\n\n    return React.useMemo(() => ({\n        get<K extends keyof T, V extends T[K]>(key: K, defaultValue: V) {\n            return settings.get(key, defaultValue);\n        },\n        set<K extends keyof T, V extends T[K]>(key: K, value: V) {\n            settings.set(key, value).then(() => update(x => x + 1));\n        }\n    }), []);\n}\n\n/**\n * SettingsAPI.\n * For technical reasons, this class must be constructed using Settings.make, \n * and NOT via new.\n */\nexport class Settings<Schema> {\n    private constructor(public readonly module: string, public readonly snapshot: Schema) { }\n\n    // FIXME - find a better way to do this somehow\n    // getSettings is an asynchronous method. Thus, an async factory method\n    // is required to ensure the snapshot is ready before receiving any calls to other methods\n    // An alternative would be making get async, but that would be very inconvenient.\n    /**\n     * Construct a new Settings instance.\n     * Accepts a Schema as generic argument which will be used to validate \n     * and type calls to get and set\n     * @param module Name of your module. Choose something meaningful as this will be used to \n     *               identify your settings\n     * @returns Settings Instance\n     */\n    static async make<Schema = any>(module: string) {\n        const snapshot = (await window.nativeModuleProxy.AliucordNative.getSettings(module)) ?? \"{}\";\n        try {\n            const data = JSON.parse(snapshot);\n            if (typeof data !== \"object\")\n                throw new Error(\"JSON data was not an object.\");\n            return new this<Schema>(module, data);\n        } catch (err: any) {\n            window.Aliucord.logger.error(`[SettingsAPI] Settings of module ${module} are corrupt and were cleared.`);\n            return new this<Schema>(module, {} as Schema);\n        }\n    }\n\n    /**\n     * Get a settings item\n     * @param key Key\n     * @param defaultValue Default value to return in case no such setting exists \n     * @returns Setting if found, otherwise the default value\n     */\n    public get<K extends keyof Schema, T extends Schema[K]>(key: K, defaultValue: T): CastDown<T> {\n        // @ts-ignore\n        return this.snapshot[key] ?? defaultValue;\n    }\n\n    /**\n     * Set a settings item\n     * @param key Key\n     * @param value New value\n     */\n    public async set<K extends keyof Schema>(key: K, value: Schema[K]) {\n        const { snapshot } = this;\n        snapshot[key] = value;\n        return this._persist();\n    }\n\n    /**\n     * Delete a setting\n     * @param key Key\n     */\n    public async delete<K extends keyof Schema>(key: K) {\n        if (key in this.snapshot) {\n            delete this.snapshot[key];\n            return this._persist();\n        }\n    }\n\n    private _persist(): Promise<void> {\n        return window.nativeModuleProxy.AliucordNative.writeSettings(this.module, JSON.stringify(this.snapshot, null, 2));\n    }\n}\n\n","import { Logger } from \"./Logger\";\n\nconst logger = new Logger(\"Patcher\");\n// TODO: Should this be a symbol? String is probably better so you can access\n// it during debugging\nconst patchInfoSym = \"__ALIUCORD_PATCH_INFO__\";\n\nexport type BeforePatchFn<T, R, A extends any[]> = (\n    ctx: PatchContext<T, R, A>,\n    ...args: A\n) => R | void;\n\nexport type AfterPatchFn<T, R, A extends any[]> = (\n    ctx: AfterPatchContext<T, R, A>,\n    result: R,\n    ...args: A\n) => R | void;\n\nexport type InsteadFn<T, R, A extends any[]> = (\n    ctx: PatchContext<T, R, A>,\n    ...args: A\n) => R;\n\nexport type Unpatch = () => void;\n\nexport enum PatchPriority {\n    MIN = 0,\n    DEFAULT = 15,\n    MAX = 30\n}\n\ntype PatchFns<T, R, A extends any[]> = {\n    before?: BeforePatchFn<T, R, A>,\n    instead?: InsteadFn<T, R, A>,\n    after?: AfterPatchFn<T, R, A>;\n};\n\nexport class Patch<T, R, A extends any[]> {\n    public before: BeforePatchFn<T, R, A>;\n    public after: AfterPatchFn<T, R, A>;\n\n    public constructor(\n        data: PatchFns<T, R, A>,\n        public readonly priority: number = PatchPriority.DEFAULT,\n        public readonly plugin?: string\n    ) {\n        if (this.priority < PatchPriority.MIN || this.priority > PatchPriority.MAX) {\n            throw new Error(\"Priority must be between PatchPriority.MIN and PatchPriority.MAX\");\n        }\n\n        const defaultFn = () => void 0;\n\n        if (data.instead) {\n            if (data.after || data.before) {\n                throw new Error(\"Instead patches cannot specify before or after patches.\");\n            }\n\n            const { instead } = data;\n            this.before = (ctx: PatchContext<T, R, A>, ...args: A) => {\n                ctx.result = instead(ctx, ...args);\n            };\n            this.after = defaultFn;\n        } else {\n            this.before = data.before ?? defaultFn;\n            this.after = data.after ?? defaultFn;\n        }\n    }\n}\n\nclass PatchInfo<T, R, A extends any[]> {\n    public constructor(public readonly backup: (...args: A) => R, public readonly methodName: string) { }\n\n    private readonly _patches = [] as Patch<T, R, A>[];\n\n    private error(patch: Patch<T, R, A>, type: \"PrePatch\" | \"PostPatch\", error: any) {\n        const message =\n            (patch.plugin ? `[${patch.plugin}] ` : \"\") +\n            (`Error during ${this.methodName} ${type}\\n`);\n        logger.error(message, error);\n    }\n\n    public get patchCount() {\n        return this._patches.length;\n    }\n\n    public addPatch(patch: Patch<T, R, A>) {\n        if (this._patches.includes(patch)) return false;\n        this._patches.push(patch);\n        this._patches.sort((a, b) => b.priority - a.priority);\n        return true;\n    }\n\n    public removePatch(patch: Patch<T, R, A>) {\n        const idx = this._patches.indexOf(patch);\n        if (idx === -1) return false;\n        this._patches.splice(idx, 1);\n        return true;\n    }\n\n    public makeReplacementFunc() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const _this = this;\n        return function AliucordPatchFn(this: T, ...args: A) {\n            return _this._callback(this, ...args);\n        };\n    }\n\n    private _callback(thisObject: T, ...args: A) {\n        const patches = this._patches;\n        if (!patches.length) return this.backup.call(thisObject, ...args);\n\n        const ctx = new PatchContext(thisObject, args, this.backup);\n\n        let idx = 0;\n        do {\n            try {\n                const result = patches[idx].before(ctx, ...ctx.args);\n                if (result !== undefined) ctx.result = result;\n            } catch (err: any) {\n                this.error(patches[idx], \"PrePatch\", err);\n\n                ctx.result = undefined;\n                ctx._returnEarly = false;\n                continue;\n            }\n\n            if (ctx._returnEarly) {\n                idx++;\n                break;\n            }\n        } while (++idx < patches.length);\n\n        if (!ctx._returnEarly) {\n            try {\n                ctx.result = this.backup.call(ctx.thisObject, ...ctx.args);\n            } catch (err: any) {\n                ctx.error = err;\n            }\n        }\n\n        idx--;\n        do {\n            const lastRes = ctx.result;\n            const lastError = ctx.error;\n\n            try {\n                const result = patches[idx].after(ctx as AfterPatchContext<T, R, A>, ctx.result!, ...ctx.args);\n                if (result !== undefined) ctx.result = result;\n            } catch (err: any) {\n                this.error(patches[idx], \"PostPatch\", err);\n\n                if (lastError !== null) {\n                    ctx.error = lastError;\n                } else {\n                    ctx.result = lastRes;\n                }\n            }\n        } while (--idx >= 0);\n\n        return ctx.getResultOrThrowError();\n    }\n}\n\nclass PatchContext<T, R, A extends any[]> {\n    public constructor(\n        public readonly thisObject: T,\n        public readonly args: A,\n        private readonly backup: (...args: A) => R\n    ) { }\n\n    private _result: R | undefined;\n    private _error: Error | undefined;\n    /** Do not use */\n    _returnEarly = false;\n\n    set result(value: R | undefined) {\n        this._result = value;\n        this._error = undefined;\n        this._returnEarly = true;\n    }\n\n    get result(): R | undefined {\n        return this._result;\n    }\n\n    get error(): Error | undefined {\n        return this._error;\n    }\n\n    set error(error: Error | undefined) {\n        this._returnEarly = error !== undefined;\n        this._error = error;\n    }\n\n    getResultOrThrowError() {\n        if (this._error !== undefined) throw this._error;\n        return this._result;\n    }\n\n    callOriginal(): R {\n        return callOriginal(this.backup, this.thisObject, this.args);\n    }\n}\n\ntype AfterPatchContext<T, R, A extends any[]> = PatchContext<T, R, A> & { result: R; };\n\nfunction resolveMethod(obj: any, methodName: string) {\n    if (obj == null) throw new Error(\"obj may not be null or undefined\");\n    if (typeof methodName !== \"string\" || !methodName) throw new Error(\"methodName must be a non empty string\");\n\n    const method = obj[methodName as any];\n    if (method == null) throw new Error(\"No such method: \" + methodName);\n    if (typeof method !== \"function\") throw new Error(methodName + \" is not a function\");\n    return method;\n}\n\nexport function unpatch<T>(obj: T | any, methodName: string, patch: Patch<T, any, any>) {\n    const func = resolveMethod(obj, methodName);\n    const patchInfo = func[patchInfoSym] as PatchInfo<T, any, any>;\n    if (patchInfo) {\n        patchInfo.removePatch(patch);\n        if (patchInfo.patchCount === 0) {\n            obj[methodName] = patchInfo.backup;\n        }\n    }\n}\n\nexport function callOriginal(func: (...args: any[]) => any, thisObj: any, ...args: any[]) {\n    if (func == null || typeof func !== \"function\") throw new Error(\"Not a function: \" + func);\n    const patchInfo = func[patchInfoSym as keyof typeof func] as PatchInfo<any, any, any>;\n    const original = patchInfo?.backup ?? func;\n    return original.call(thisObj, ...args);\n}\n\nexport function patch<T = any, R = any, A extends any[] = any[]>(\n    object: T | any,\n    name: string,\n    patch: Patch<T, R, A>\n): Unpatch {\n    const original = resolveMethod(object, name);\n\n    let patchInfo = original[patchInfoSym] as PatchInfo<T, R, A>;\n    if (!patchInfo) {\n        patchInfo = new PatchInfo(original, name);\n\n        const replacement = patchInfo.makeReplacementFunc();\n        Object.defineProperty(replacement, patchInfoSym, {\n            value: patchInfo,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        });\n        Object.defineProperties(replacement, Object.getOwnPropertyDescriptors(original));\n\n        object[name] = replacement;\n    }\n\n    patchInfo.addPatch(patch);\n\n    return () => unpatch(object, name, patch);\n}\n\nexport function before<T = any, R = any, A extends any[] = any[]>(\n    object: any,\n    name: string,\n    before: BeforePatchFn<T, R, A>,\n    priority = PatchPriority.DEFAULT,\n    plugin?: string\n): Unpatch {\n    return patch(object, name, new Patch({ before }, priority, plugin));\n}\n\nexport function instead<T = any, R = any, A extends any[] = any[]>(\n    object: any,\n    name: string,\n    instead: InsteadFn<T, R, A>,\n    priority = PatchPriority.DEFAULT,\n    plugin?: string\n): Unpatch {\n    return patch(object, name, new Patch({ instead }, priority, plugin));\n}\n\nexport function insteadDoNothing(object: any, name: string) {\n    return instead(object, name, () => void 0);\n}\n\nexport function after<T = any, R = any, A extends any[] = any[]>(\n    object: any,\n    name: string,\n    after: AfterPatchFn<T, R, A>,\n    priority = PatchPriority.DEFAULT,\n    plugin?: string\n): Unpatch {\n    return patch(object, name, new Patch({ after }, priority, plugin));\n}\n","import {\n    Unpatch,\n    before,\n    PatchPriority,\n    BeforePatchFn,\n    InsteadFn,\n    instead,\n    AfterPatchFn,\n    after,\n    insteadDoNothing\n} from \"../utils/Patcher\";\n\nexport class Patcher {\n    private readonly _unpatches = [] as Unpatch[];\n\n    public constructor(public readonly plugin: string) { }\n\n    public before<T, R, A extends any[]>(object: T, name: string, fn: BeforePatchFn<T, R, A>, priority?: PatchPriority): Unpatch {\n        const unpatch = before<T, R, A>(object, name, fn, priority, this.plugin);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public instead<T, R, A extends any[]>(object: T, name: string, fn: InsteadFn<T, R, A>, priority?: PatchPriority): Unpatch {\n        const unpatch = instead<T, R, A>(object, name, fn, priority, this.plugin);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public insteadDoNothing(object: any, name: string): Unpatch {\n        const unpatch = insteadDoNothing(object, name);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public after<T, R, A extends any[]>(object: T, name: string, fn: AfterPatchFn<T, R, A>, priority?: PatchPriority): Unpatch {\n        const unpatch = after<T, R, A>(object, name, fn, priority, this.plugin);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public unpatchAll() {\n        let unpatch;\n        while ((unpatch = this._unpatches.pop())) {\n            unpatch();\n        }\n    }\n}\n","import { Commands } from \"../api/Commands\";\nimport { Patcher } from \"../api/PatcherApi\";\nimport { Settings } from \"../api/SettingsAPI\";\nimport { Logger } from \"../utils/Logger\";\n\n/**\n * Plugin class\n * You may pass a Settings Schema to have calls to\n * this.settings.get and this.settings.set validated and typed strongly\n */\nexport default class Plugin<SettingsSchema = any> {\n    public readonly commands = new Commands(this.name);\n    public readonly logger = new Logger(this.name);\n    public readonly patcher = new Patcher(this.name);\n\n    public constructor(public readonly settings: Settings<SettingsSchema>) { }\n\n    public get name() {\n        return this.constructor.name;\n    }\n\n    /**\n     * The start method is called when your plugin is started\n     */\n    public start() {\n        // nop\n    }\n\n    /**\n     * The stop method is called when your plugin is stopped.\n     * By default, this unregisters all commands and patches, so unless\n     * you need to do more cleanup than that, there is no need to overwrite this.\n     */\n    public stop() {\n        this.commands.unregisterAll();\n        this.patcher.unpatchAll();\n    }\n}\n","import { ApplicationCommand, Commands, CommandSection } from \"../api/Commands\";\nimport Plugin from \"../entities/Plugin\";\nimport { getByProps } from \"../metro\";\nimport { after } from \"../utils/Patcher\";\n\nexport default class CommandHandler extends Plugin {\n    start() {\n        const commands = getByProps(\"getBuiltInCommands\");\n        after<any, ApplicationCommand[], any>(commands, \"getBuiltInCommands\", context => [...context.result, ...Commands._commands]);\n\n        const discovery = getByProps(\"useApplicationCommandsDiscoveryState\");\n        after(discovery, \"useApplicationCommandsDiscoveryState\", context => {\n            const shouldDisplay = context.args[3] === false;\n\n            const res = context.result as any;\n            if (shouldDisplay && !res.discoverySections.find((s: any) => s.key === Commands._aliucordSection.id) && Commands._commands.length) {\n                res.discoveryCommands.push(...Commands._commands);\n                res.commands.push(...Commands._commands.filter(\n                    command => !res.commands.some((cmd: ApplicationCommand) => cmd.name === command.name))\n                );\n\n                res.discoverySections.push({\n                    data: Commands._commands,\n                    key: Commands._aliucordSection.id,\n                    section: Commands._aliucordSection\n                });\n\n                const offsets = res.sectionsOffset;\n                offsets.push(offsets[offsets.length - 1] + commands.BUILT_IN_COMMANDS.length - 1);\n            }\n\n            if (shouldDisplay && !res.applicationCommandSections.find((s: CommandSection) => s.id === Commands._aliucordSection.id) && Commands._commands.length) {\n                res.applicationCommandSections.push(Commands._aliucordSection);\n            }\n        });\n    }\n}\n","export const sha = \"057cb7e\";","import { ReactNative } from \"../../metro\";\n\nexport class DebugInfo {\n    static getDiscordVersion(): string {\n        try {\n            return `${ReactNative.NativeModules.InfoDictionaryManager.Version} (${ReactNative.NativeModules.InfoDictionaryManager.ReleaseChannel})`;\n        } catch (ex) {\n            return \"unknown\";\n        }\n    }\n\n    static getSystem(): string {\n        try {\n            return `${ReactNative.Platform.OS} ${ReactNative.Platform.constants.Release} (SDK v${ReactNative.Platform.Version}) ${ReactNative.NativeModules.DCDDeviceManager.device} ${ReactNative.Platform.constants.uiMode}`\n        } catch (ex) {\n            return \"unknown\";\n        } \n    }\n\n    static getReactNativeVersion(): string {\n        try {\n            const ver = ReactNative.Platform.constants.reactNativeVersion;\n            return `${ver.major || 0}.${ver.minor || 0}.${ver.patch || 0}`;\n        } catch (ex) {\n            return \"unknown\";\n        }\n    }\n\n    static getHermesVersion(): string {\n        try {\n            if (window.HermesInternal === undefined) return \"N/A\";\n            const runtimeProps = window.HermesInternal.getRuntimeProperties()\n            return `${runtimeProps['OSS Release Version']} ${runtimeProps['Build']} (v${runtimeProps['Bytecode Version']})`\n        } catch (ex) {\n            return \"unknown\";\n        }\n    }\n}\n\nexport default DebugInfo\n","/**\n * Makes await work in eval.\n * @param code Code to awaitify\n * @returns Modified code (Do not look at it. Trust me, it is an abomination)\n */\nexport function makeAsyncEval(code: string) {\n    return `\n    var __async = (generator) => {\n        return new Promise((resolve, reject) => {\n            var fulfilled = (value) => {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            };\n\n            var rejected = (value) => {\n                try {\n                    step(generator.throw(value));\n                } catch (e) {\n                    reject(e);\n                }\n            };\n\n            var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n            step((generator = generator()).next());\n        });\n    };\n\n    __async(function*() {\n        ${code.replace(/\\bawait\\b/g, \"yield\")}\n    });\n    `;\n}\n","import { sha } from \"aliucord-version\";\nimport { ApplicationCommandOptionType } from \"../api/Commands\";\nimport Plugin from \"../entities/Plugin\";\nimport { getByProps, i18n, MessageActions } from \"../metro\";\nimport DebugInfo from \"../utils/debug/DebugInfo\";\nimport { makeAsyncEval } from \"../utils/misc\";\n\nexport default class CoreCommands extends Plugin {\n    start() {\n        const ClydeUtils = getByProps(\"sendBotMessage\");\n        this.commands.registerCommand({\n            name: \"echo\",\n            description: \"Creates Clyde message\",\n            options: [\n                {\n                    name: \"message\",\n                    description: i18n.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION,\n                    required: true,\n                    type: ApplicationCommandOptionType.STRING\n                }\n            ],\n            execute: (args, ctx) => {\n                ClydeUtils.sendBotMessage(ctx.channel.id, args[0].value);\n            }\n        });\n\n        this.commands.registerCommand({\n            name: \"eval\",\n            description: \"Eval javascript\",\n            options: [\n                {\n                    name: \"code\",\n                    description: \"Code to eval. Async functions are not supported. Await is, however you must specify a return explicitly\",\n                    required: true,\n                    type: ApplicationCommandOptionType.STRING\n                }\n            ],\n            execute: async (args, ctx) => {\n                try {\n                    const code = args[0].value as string;\n\n                    let result;\n                    if (code.includes(\"await\")) {\n                        result = await eval(makeAsyncEval(code));\n                    } else {\n                        result = eval(code);\n                    }\n\n                    ClydeUtils.sendBotMessage(ctx.channel.id, this.codeblock(String(result)));\n                } catch (err: any) {\n                    ClydeUtils.sendBotMessage(ctx.channel.id, this.codeblock(err?.stack ?? err?.message ?? String(err)));\n                }\n            }\n        });\n\n        this.commands.registerCommand({\n            name: \"debug\",\n            description: \"Posts debug info\",\n            options: [],\n            execute: async (args, ctx) => {\n                MessageActions.sendMessage(ctx.channel.id, {\n                    content: `**Debug Info:**\n                        > Discord: ${DebugInfo.getDiscordVersion()}\n                        > Aliucord: ${sha}\n                        > System: ${DebugInfo.getSystem()}\n                        > React: ${DebugInfo.getReactNativeVersion()}\n                        > Hermes: ${DebugInfo.getHermesVersion()}\n                    `.replace(/^\\s+/gm, \"\")\n                });\n            }\n        });\n    }\n\n    private codeblock(code: string) {\n        const ZWSP = \"​\";\n        return \"```js\\n\" + code.replace(/`/g, \"`\" + ZWSP) + \"```\";\n    }\n}\n","// Thanks to Powercord and Zere\n// https://github.com/rauenzi/BetterDiscordAddons/blob/master/Plugins/DoNotTrack/DoNotTrack.plugin.js\n// https://github.com/powercord-org/powercord/blob/v2/src/Powercord/coremods/no-track/index.js\n\nimport Plugin from \"../entities/Plugin\";\nimport { getByProps } from \"../metro/index\";\nimport { insteadDoNothing } from \"../utils/Patcher\";\n\nexport default class NoTrack extends Plugin {\n    public start() {\n        const Analytics = getByProps(\"getSuperPropertiesBase64\", \"track\");\n        const Snitch = getByProps(\"submitLiveCrashReport\");\n        const { AnalyticsActionHandlers } = getByProps(\"AnalyticsActionHandlers\");\n\n        insteadDoNothing(Analytics, \"track\");\n        insteadDoNothing(Snitch, \"submitLiveCrashReport\");\n        insteadDoNothing(AnalyticsActionHandlers, \"handleTrack\");\n\n        const sentry = (window as any).__SENTRY__;\n        const hub = sentry.hub;\n\n        sentry.logger.disable();\n\n        insteadDoNothing(hub, \"addBreadcrumb\");\n\n        hub.getClient().close(0);\n        hub.getScope().clear();\n\n        const c = console as any;\n        for (const method in c) if (c[method].__sentry_original__) {\n            c[method] = c[method].__sentry_original__;\n        }\n    }\n}\n","import Plugin from \"../entities/Plugin\";\nimport CommandHandler from \"./CommandHandler\";\nimport CoreCommands from \"./CoreCommands\";\nimport NoTrack from \"./NoTrack\";\n\nconst plugins: Array<typeof Plugin> = [CommandHandler, CoreCommands, NoTrack];\n\nexport function startAll() {\n    for (const pluginClass of plugins) {\n        const { name } = pluginClass;\n        try {\n            window.Aliucord.logger.info(\"Loading CorePlugin \" + name);\n            new pluginClass().start();\n        } catch (e) {\n            window.Aliucord.logger.error(\"Failed to start CorePlugin \" + name, e);\n        }\n    }\n}\n","export const ALIUCORD_INVITE = \"https://discord.gg/EsNDvBaHVU\";\nexport const ALIUCORD_GITHUB = \"https://github.com/Aliucord/Aliucord\";\nexport const ALIUCORD_PATREON = \"https://patreon.com/Aliucord\";\n","import { getByProps } from \"../metro\";\nimport { after } from \"./Patcher\";\n\nconst assetMap = {};\n\nconst AssetRegistry = getByProps(\"registerAsset\");\n\nafter(AssetRegistry, \"registerAsset\", (_, id, asset) => {\n    assetMap[asset.name] = id;\n});\n\nfor (let i = 1; ; i++) {\n    const asset = AssetRegistry.getAssetByID(i);\n    if (asset) {\n        assetMap[asset.name] = i;\n    } else break;\n}\n\n/**\n * Get the id of an asset to be used as Image source\n * @example <Image source={getAssetId(\"heart\")} />)\n * @param assetName Name of the asset\n * @returns ID or -1\n * \n * @see findAssets\n */\nexport function getAssetId(assetName: string) {\n    return assetMap[assetName];\n}\n\n/**\n * Lists all assets containing the specified keyword\n * @param keyword\n * @returns asset names\n */\nexport function findAssets(keyword: string) {\n    keyword = keyword.toLowerCase();\n\n    const names = [] as string[];\n    for (const name in assetMap) {\n        if (name.toLowerCase().includes(keyword)) {\n            names.push(name);\n        }\n    }\n\n    return names;\n}\n","import { useSettings } from \"../api/SettingsAPI\";\nimport { Forms, React } from \"../metro\";\nimport { URLOpener } from \"../metro/index\";\nimport { ALIUCORD_GITHUB, ALIUCORD_INVITE, ALIUCORD_PATREON } from \"../utils/constants\";\nimport { getAssetId } from \"../utils/getAssetId\";\n\nconst { FormSection, FormSwitch, FormRow } = Forms;\n\nexport default function AliucordPage() {\n    const settings = useSettings(window.Aliucord.settings);\n\n    return (\n        <>\n            <FormSection title=\"Settings\" /* Nice prop name discord */ android_noDivider={true}>\n                <FormRow\n                    label=\"Automatically disable plugins on crash\"\n                    trailing={<FormSwitch value={settings.get(\"disablePluginsOnCrash\", true)} onValueChange={v => settings.set(\"disablePluginsOnCrash\", v)} />}\n                />\n                <FormRow\n                    label=\"Automatically update Aliucord\"\n                    trailing={<FormSwitch value={settings.get(\"autoUpdateAliucord\", false)} onValueChange={v => settings.set(\"autoUpdateAliucord\", v)} />}\n                />\n                <FormRow\n                    label=\"Automatically update Plugins\"\n                    trailing={<FormSwitch value={settings.get(\"autoUpdatePlugins\", false)} onValueChange={v => settings.set(\"autoUpdatePlugins\", v)} />}\n                />\n            </FormSection>\n            <FormSection title=\"Socials\">\n                <FormRow\n                    label=\"Source Code\"\n                    leading={<FormRow.Icon source={getAssetId(\"img_account_sync_github_white\")} />}\n                    trailing={FormRow.Arrow}\n                    onPress={() => URLOpener.openURL(ALIUCORD_GITHUB)}\n                />\n                <FormRow\n                    label=\"Support Server\"\n                    leading={<FormRow.Icon source={getAssetId(\"img_help_icon\")} />}\n                    trailing={FormRow.Arrow}\n                    onPress={() => URLOpener.openURL(ALIUCORD_INVITE)}\n                />\n                <FormRow\n                    label=\"Support Us\"\n                    leading={<FormRow.Icon source={getAssetId(\"ic_premium_perk_heart_24px\")} />}\n                    trailing={FormRow.Arrow}\n                    onPress={() => URLOpener.openURL(ALIUCORD_PATREON)}\n                />\n            </FormSection>\n        </>\n    );\n}\n","import { Settings } from \"./api/SettingsAPI\";\nimport Plugin from \"./entities/Plugin\";\nimport { Logger } from \"./utils/Logger\";\n\nconst logger = new Logger(\"PluginManager\");\n\n// TODO\nexport default class PluginManager {\n    public static readonly plugins = {} as Record<string, Plugin>;\n\n    public static isEnabled(plugin: string) {\n        return window.Aliucord.settings.get(\"plugins\", {})[plugin] === true;\n    }\n\n    public static enable(plugin: string) {\n        const plugins = window.Aliucord.settings.get(\"plugins\", {});\n        plugins[plugin] = true;\n        window.Aliucord.settings.set(\"plugins\", plugins);\n    }\n\n    public static disable(plugin: string) {\n        const plugins = window.Aliucord.settings.get(\"plugins\", {});\n        plugins[plugin] = false;\n        window.Aliucord.settings.set(\"plugins\", plugins);\n    }\n\n    private static _register(plugin: typeof Plugin) {\n        const { name } = plugin;\n        if (name in this.plugins) throw new Error(`Plugin ${name} already registered`);\n\n        try {\n            logger.info(`Loading Plugin ${name}...`);\n            Settings.make(name).then(settings => {\n                const inst = this.plugins[name] = new plugin(settings);\n                inst.start();\n            });\n        } catch (err) {\n            logger.error(`Failed to load Plugin ${name}\\n`, err);\n        }\n    }\n}\n","import { PluginManifest } from \"../entities/types\";\nimport { Constants, Forms, React, ReactNative, Styles } from \"../metro\";\nimport { getByProps } from \"../metro/index\";\nimport PluginManager from \"../PluginManager\";\n\nconst { View, Text, FlatList } = ReactNative;\n\n// Dummy data for now lmao\nconst plugins: PluginManifest[] = [\n    {\n        name: \"Test\",\n        description: \"Test Plugin\",\n        version: \"1.0.0\",\n        authors: [\n            {\n                username: \"Pot of Avarice\",\n                id: \"950095902922661988\"\n            },\n            {\n                username: \"Discord\",\n                id: \"643945264868098049\"\n            }\n        ]\n    }\n];\nfor (let i = 1; i < 5; i++) {\n    const copy = { ...plugins[i - 1] };\n    copy.name += \"a\";\n    copy.description += copy.description;\n    plugins[i] = copy;\n}\n\nconst styles = Styles.createThemedStyleSheet({\n    list: {\n        padding: 10,\n    },\n    card: {\n        borderRadius: 5,\n        margin: 10,\n        backgroundColor: Styles.ThemeColorMap.BACKGROUND_TERTIARY,\n    },\n    header: {\n        flexDirection: \"row\"\n    },\n    bodyCard: {\n        backgroundColor: Styles.ThemeColorMap.BACKGROUND_SECONDARY,\n    },\n    bodyText: {\n        color: Styles.ThemeColorMap.TEXT_NORMAL,\n        padding: 16,\n    },\n    text: {\n        fontFamily: Constants.Fonts.PRIMARY_SEMIBOLD,\n        color: Styles.ThemeColorMap.TEXT_NORMAL,\n        fontSize: 16,\n        lineHeight: 22\n    },\n    link: {\n        marginLeft: 5,\n        fontFamily: Constants.Fonts.PRIMARY_SEMIBOLD,\n        fontSize: 16,\n        lineHeight: 22,\n        color: Styles.ThemeColorMap.TEXT_LINK\n    }\n});\n\nfunction PluginCard({ plugin }: { plugin: PluginManifest; }) {\n    const [isEnabled, setIsEnabled] = React.useState(PluginManager.isEnabled(plugin.name));\n\n    return (\n        <View style={styles.card}>\n            <Forms.FormRow\n                label={(\n                    <View style={styles.header}>\n                        <Text style={styles.text}>\n                            {plugin.name} v{plugin.version} by\n                        </Text>\n                        {plugin.authors.map((a, i) => (\n                            <Text\n                                key={a.id}\n                                style={styles.link}\n                                onPress={() => getByProps(\"showUserProfile\").showUserProfile({ userId: a.id })}\n                            >\n                                {a.username}{i !== plugin.authors.length - 1 && \",\"}\n                            </Text>\n                        ))}\n                    </View>)}\n                trailing={<Forms.FormSwitch value={isEnabled} onValueChange={v => {\n                    if (v)\n                        PluginManager.enable(plugin.name);\n                    else\n                        PluginManager.disable(plugin.name);\n\n                    setIsEnabled(v);\n                }} />}\n            />\n            <View style={styles.bodyCard}>\n                <Forms.FormText style={styles.bodyText}>{plugin.description}</Forms.FormText>\n            </View>\n        </View>\n    );\n}\n\nexport default function PluginsPage() {\n    return (\n        <FlatList\n            data={plugins}\n            renderItem={({ item }) => <PluginCard\n                key={item.name}\n                plugin={item}\n            />}\n            keyExtractor={plugin => plugin.name}\n            style={styles.list}\n        />\n    );\n}\n","\nexport default function UpdaterPage() {\n    return null;\n}\n","import { sha } from \"aliucord-version\";\nimport { Forms, getModule, i18n, React, ReactNative as RN } from \"../metro\";\nimport { after } from \"../utils/Patcher\";\nimport AliucordPage from \"./AliucordPage\";\nimport PluginsPage from \"./PluginsPage\";\nimport UpdaterPage from \"./UpdaterPage\";\n\n\nexport default function patchSettings() {\n    const { FormSection, FormRow } = Forms;\n    const UserSettingsOverviewWrapper = getModule(m => m.default?.name === \"UserSettingsOverviewWrapper\");\n\n    after(getModule(m => m.default?.name === \"getScreens\"), \"default\", (_, res) => {\n        res.ASettings = {\n            title: \"Aliucord\",\n            render: AliucordPage\n        };\n        res.APlugins = {\n            title: \"Plugins\",\n            render: PluginsPage\n        };\n        res.AThemes = {\n            title: \"Themes\",\n            render: () => <RN.Text>Hello World</RN.Text>\n        };\n        res.AUpdater = {\n            title: \"Updater\",\n            render: UpdaterPage\n        };\n\n        // TODO: add APluginWrapper and make it work?\n        // Or should we add all plugins that register settings to this?\n    });\n\n    const unpatch = after(UserSettingsOverviewWrapper, \"default\", (_, res) => {\n        unpatch();\n\n        const { navigation } = res.props;\n\n        // Yeet the funny Upload Logs button\n        after(res.type.prototype, \"renderSupportAndAcknowledgements\", (_, { props }) => {\n            const idx = props.children.findIndex(c => c?.type?.name === \"UploadLogsButton\");\n            if (idx !== -1) {\n                props.children.splice(idx, 1);\n            }\n        });\n\n        after(res.type.prototype, \"render\", (_, { props }) => {\n            const nitroIndex = props.children.findIndex(c => c?.props?.title === i18n.Messages.PREMIUM_SETTINGS);\n\n            const aliucordSection = (\n                <FormSection key=\"AliucordSection\" title={`Aliucord (${sha})`} >\n                    <FormRow\n                        label=\"Aliucord\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"ASettings\")\n                        }\n                    />\n                    <FormRow\n                        label=\"Plugins\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"APlugins\")\n                        }\n                    />\n                    <FormRow\n                        label=\"Themes\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"AThemes\")\n                        }\n                    />\n                    <FormRow\n                        label=\"Updater\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"AUpdater\")\n                        }\n                    />\n                </FormSection>\n            );\n\n            props.children.splice(nitroIndex, 0, aliucordSection);\n        });\n    });\n}\n","import { Logger } from \"../Logger\";\nimport { makeAsyncEval } from \"../misc\";\nimport { before } from \"../Patcher\";\n\nconst logger = new Logger(\"DebugWS\");\n\nexport class DebugWS {\n    socket: WebSocket | undefined;\n\n    start() {\n        logger.info(\"Connecting to debug ws\");\n        this.socket = new WebSocket(\"ws://localhost:9090\");\n\n        this.socket.addEventListener(\"open\", () => logger.info(\"Connected with debug websocket\"));\n        this.socket.addEventListener(\"error\", e => logger.error((e as any).message));\n        this.socket.addEventListener(\"message\", async message => {\n            try {\n                const { data } = message;\n                if (data.includes(\"await\")) {\n                    console.log(await eval(makeAsyncEval(data)));\n                } else {\n                    console.log(eval(data));\n                }\n            } catch (e) {\n                logger.error(e as Error | string);\n            }\n        });\n\n        before(globalThis, \"nativeLoggingHook\", (_, message: string, level: number) => {\n            if (this.socket?.readyState === WebSocket.OPEN) {\n                this.socket.send(JSON.stringify({ level, message }));\n            }\n        });\n    }\n}\n","import { checkPermissions, requestPermissions } from \"./AliucordNative\";\nimport { Commands } from \"./api/Commands\";\nimport { Settings } from \"./api/SettingsAPI\";\nimport * as CorePlugins from \"./core-plugins/index\";\nimport * as Metro from \"./metro\";\nimport patchSettings from \"./ui/patchSettings\";\nimport * as AliuConstants from \"./utils/constants\";\nimport { DebugWS } from \"./utils/debug/DebugWS\";\nimport { Logger } from \"./utils/Logger\";\nimport * as Patcher from \"./utils/Patcher\";\n\nfunction initWithPerms() {\n    // TODO\n}\n\ninterface SettingsSchema {\n    autoUpdateAliucord: boolean;\n    autoUpdatePlugins: boolean;\n    disablePluginsOnCrash: boolean;\n    plugins: Record<string, boolean>;\n}\nexport class Aliucord {\n    settings!: Settings<SettingsSchema>;\n    logger = new Logger(\"Aliucord\");\n    debugWS = new DebugWS();\n\n    Constants = AliuConstants;\n\n    Commands = Commands;\n    /**\n     * Metro. Module Store\n     */\n    Metro = Metro;\n    Patcher = Patcher;\n\n    async load() {\n        this.settings = await Settings.make(\"Aliucord\");\n\n        try {\n            this.logger.info(\"Loading...\");\n\n            checkPermissions().then(granted => {\n                if (granted) initWithPerms();\n                else {\n                    Metro.ReactNative.Alert.alert(\n                        \"Storage Access\",\n                        \"Aliucord needs access to your storage to load plugins and themes.\",\n                        [{\n                            text: \"OK\",\n                            onPress: () => requestPermissions().then(permissionGranted => {\n                                if (permissionGranted) initWithPerms();\n                                else alert(\"Aliucord needs access to your storage to load plugins and themes.\");\n                            })\n                        }]\n                    );\n                }\n            });\n\n            CorePlugins.startAll();\n\n            this.debugWS.start();\n\n            // Needs to be hardcoded instead of variable so this code is correcty\n            // detected as unreachable and not included in build.\n            // if (variable) still crashes\n            // eslint-disable-next-line no-constant-condition\n            if (false) {\n                // CAUSES CRASHES\n                // \"lateinit property audioManager has not been initialized\"\n                const { ReactDevTools } = await import(\"./utils/debug/ReactDevTools\");\n                new ReactDevTools().connect();\n            }\n\n            patchSettings();\n        } catch (error) {\n            this.logger.error(error as string | Error);\n        }\n    }\n}\n","import { Aliucord } from \"./Aliucord\";\n\nexport const aliucord = window.Aliucord = new Aliucord();\naliucord.load();\n"],"names":["AliucordNative","window","nativeModuleProxy","existsFile","deleteFile","listNativeModules","checkPermissions","requestPermissions","DiscordLogger","getByProps","default","Logger","tag","log","info","warn","error","trace","verbose","messages","_log","console","debug","_a","msg","Error","stack","message","logger","isModuleBlacklisted","id","getModule","filter","options","exports","defaultExport","key","modules","Number","mod","__r","e","module","publicModule","props","length","pop","i","len","getByDisplayName","displayName","m","getByStoreName","storeName","getName","call","getById","getAll","ret","push","getAllByProps","searchByKeyword","keyword","skipConstants","_b","toLowerCase","matches","moduleSearchResults","check","obj","name","Object","getOwnPropertyNames","includes","toUpperCase","UserStore","GuildStore","ChannelStore","MessageStore","GuildMemberStore","SelectedChannelStore","ModalActions","MessageActions","FluxDispatcher","FetchUserActions","ContextMenuActions","Clipboard","RestAPI","i18n","Flux","React","ReactNative","Constants","URLOpener","Forms","Styles","ApplicationCommandOptionType","ApplicationCommandOptionType2","SnowflakeUtils","_Commands","plugin","command","generateId","applicationId","_aliucordSection","displayDescription","description","inputType","type","__plugin","option","_commands","c","Commands","_idIncrementNum","Date","now","fromTimestamp","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","throw","x","done","then","apply","useSettings","settings","update","useState","useMemo","get","defaultValue","set","Settings","snapshot","_persist","writeSettings","JSON","stringify","getSettings","data","parse","err","Aliucord","patchInfoSym","PatchPriority","PatchPriority2","Patch","priority","defaultFn","instead","after","before","instead2","ctx","args","result","PatchInfo","backup","methodName","_patches","patch2","sort","a","b","idx","indexOf","splice","_this","AliucordPatchFn","_callback","thisObject","patches","PatchContext","_returnEarly","lastRes","lastError","getResultOrThrowError","_result","_error","callOriginal","resolveMethod","method","unpatch","func","patchInfo","removePatch","patchCount","thisObj","original","patch","object","replacement","makeReplacementFunc","defineProperty","enumerable","writable","configurable","defineProperties","getOwnPropertyDescriptors","addPatch","before2","insteadDoNothing","after2","Patcher","_unpatches","fn","Plugin","commands","patcher","constructor","unregisterAll","unpatchAll","CommandHandler","context","discovery","shouldDisplay","res","discoverySections","find","s","discoveryCommands","some","cmd","section","offsets","sectionsOffset","BUILT_IN_COMMANDS","applicationCommandSections","DebugInfo","NativeModules","InfoDictionaryManager","Version","ReleaseChannel","ex","Platform","OS","constants","Release","DCDDeviceManager","device","uiMode","ver","reactNativeVersion","major","minor","HermesInternal","runtimeProps","getRuntimeProperties","makeAsyncEval","code","replace","CoreCommands","ClydeUtils","registerCommand","Messages","COMMAND_SHRUG_MESSAGE_DESCRIPTION","required","STRING","execute","args2","ctx2","sendBotMessage","channel","eval","codeblock","String","sendMessage","content","getDiscordVersion","sha","getSystem","getReactNativeVersion","getHermesVersion","code2","ZWSP","NoTrack","Analytics","Snitch","AnalyticsActionHandlers","sentry","__SENTRY__","hub","disable","getClient","close","getScope","clear","__sentry_original__","plugins","startAll","pluginClass","start","ALIUCORD_INVITE","ALIUCORD_GITHUB","ALIUCORD_PATREON","assetMap","AssetRegistry","_","asset","getAssetByID","getAssetId","assetName","FormSection","FormSwitch","FormRow","AliucordPage","createElement","Fragment","title","android_noDivider","label","trailing","onValueChange","v","leading","Icon","source","Arrow","onPress","openURL","PluginManager","make","inst","__defProp","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","__spreadValues","prop","View","Text","FlatList","version","authors","username","copy","styles","createThemedStyleSheet","list","padding","card","borderRadius","margin","backgroundColor","ThemeColorMap","BACKGROUND_TERTIARY","header","flexDirection","bodyCard","BACKGROUND_SECONDARY","bodyText","color","TEXT_NORMAL","text","fontFamily","Fonts","PRIMARY_SEMIBOLD","fontSize","lineHeight","link","marginLeft","TEXT_LINK","PluginCard","isEnabled","setIsEnabled","style","map","showUserProfile","userId","enable","FormText","PluginsPage","renderItem","item","keyExtractor","UpdaterPage","patchSettings","UserSettingsOverviewWrapper","ASettings","render","APlugins","AThemes","RN","AUpdater","navigation","_2","children","findIndex","nitroIndex","PREMIUM_SETTINGS","aliucordSection","DebugWS","socket","WebSocket","addEventListener","globalThis","message2","level","readyState","OPEN","send","initWithPerms","debugWS","AliuConstants","Metro","granted","Alert","alert","permissionGranted","CorePlugins","aliucord","load"],"mappings":"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"}